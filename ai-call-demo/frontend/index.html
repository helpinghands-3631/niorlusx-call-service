<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ”¥ AI Call Service</title><link rel="manifest" href="manifest.json">
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;color:#333}.container{max-width:400px;margin:0 auto;padding:20px}.header{text-align:center;color:white;margin-bottom:30px}.header h1{font-size:2.5em;margin-bottom:10px}.call-interface{background:white;padding:25px;border-radius:15px;margin-bottom:20px;text-align:center}.status{font-size:1.2em;margin-bottom:20px;padding:10px;border-radius:8px;background:#f8f9fa}.btn{padding:12px 20px;border:none;border-radius:25px;font-size:16px;cursor:pointer;margin:5px}.btn-primary{background:#28a745;color:white}.btn-secondary{background:#dc3545;color:white}.conversation{background:white;border-radius:15px;padding:20px;margin-bottom:20px;max-height:300px;overflow-y:auto}.message{margin-bottom:15px;padding:12px;border-radius:18px}.message.user{background:#6366f1;color:white;text-align:right}.message.ai{background:#f1f3f4;color:#333}.input-area{display:flex;gap:10px;background:white;padding:15px;border-radius:15px}.input-area input{flex:1;padding:12px;border:2px solid #e1e5e9;border-radius:25px}.input-area button{padding:12px 20px;background:#6366f1;color:white;border:none;border-radius:25px}</style>
</head><body><div class="container"><div class="header"><h1>ðŸ”¥ AI Call Service</h1><p>Premium AI conversations</p></div>
<div class="call-interface"><div class="status" id="status">Ready to start</div>
<button id="startCall" class="btn btn-primary">ðŸ“ž Start Call</button>
<button id="endCall" class="btn btn-secondary" disabled>ðŸ“´ End Call</button>
<button id="startVoice" class="btn btn-primary" disabled>ðŸŽ¤ Voice</button></div>
<div class="conversation" id="conversation"><div style="text-align:center;color:#666;padding:20px">Welcome! Start a call to begin.</div></div>
<div class="input-area"><input type="text" id="messageInput" placeholder="Type message..." disabled>
<button id="sendBtn" disabled>Send</button></div></div>
<script>
class AICallApp{constructor(){this.isCallActive=false;this.apiUrl='http://localhost:8000';this.init()}
init(){this.startCallBtn=document.getElementById('startCall');this.endCallBtn=document.getElementById('endCall');this.startVoiceBtn=document.getElementById('startVoice');this.statusDiv=document.getElementById('status');this.conversationDiv=document.getElementById('conversation');this.messageInput=document.getElementById('messageInput');this.sendBtn=document.getElementById('sendBtn');this.bindEvents()}
bindEvents(){this.startCallBtn.onclick=()=>this.startCall();this.endCallBtn.onclick=()=>this.endCall();this.startVoiceBtn.onclick=()=>this.startVoice();this.sendBtn.onclick=()=>this.sendMessage();this.messageInput.onkeypress=(e)=>{if(e.key==='Enter')this.sendMessage()}}
startCall(){this.isCallActive=true;this.startCallBtn.disabled=true;this.endCallBtn.disabled=false;this.startVoiceBtn.disabled=false;this.messageInput.disabled=false;this.sendBtn.disabled=false;this.statusDiv.textContent='Call Active';this.conversationDiv.innerHTML='';this.addMessage('Call started! You can now chat.','ai');fetch(this.apiUrl+'/call/start',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({phone_number:'+1234567890'})})}
endCall(){this.isCallActive=false;this.startCallBtn.disabled=false;this.endCallBtn.disabled=true;this.startVoiceBtn.disabled=true;this.messageInput.disabled=true;this.sendBtn.disabled=true;this.statusDiv.textContent='Call Ended';this.addMessage('Call ended. Thank you!','ai');fetch(this.apiUrl+'/call/end',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({phone_number:'+1234567890'})})}
startVoice(){if('webkitSpeechRecognition'in window){const recognition=new webkitSpeechRecognition();recognition.onresult=(event)=>{const transcript=event.results[0][0].transcript;this.addMessage(transcript,'user');this.sendToAI(transcript)};recognition.start()}else{alert('Voice recognition not supported')}}
sendMessage(){const message=this.messageInput.value.trim();if(!message||!this.isCallActive)return;this.addMessage(message,'user');this.messageInput.value='';this.sendToAI(message)}
async sendToAI(message){try{const response=await fetch(this.apiUrl+'/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:message,phone_number:'+1234567890'})});const data=await response.json();this.addMessage(data.reply,'ai');if('speechSynthesis'in window){const utterance=new SpeechSynthesisUtterance(data.reply);speechSynthesis.speak(utterance)}}catch(error){this.addMessage('Error connecting to AI','ai')}}
addMessage(text,sender){const messageDiv=document.createElement('div');messageDiv.className=`message ${sender}`;messageDiv.textContent=text;this.conversationDiv.appendChild(messageDiv);this.conversationDiv.scrollTop=this.conversationDiv.scrollHeight}}
new AICallApp();
</script></body></html>
